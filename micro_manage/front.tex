% !TEX TS-program = XeLaTeX      Must use XeLaTeX to compile
% !TEX encoding = UTF-8 Unicode  File must be encoded at UTF-8

\documentclass[
    papersize={8.5in,11in}
]{../orly}

\graphicspath{{../img/}}
\renewcommand{\bcolor}{data}           % banner color


\begin{document}


%%% MEASUREMENTS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% front offset
% redefine this if using in the dust cover
\renewcommand{\xfrontshift}{\fpeval{\xshift}pt}


%%% FRAME %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\showframe
\cutlines

\rulercircle{0.5*\xfrontshift}{-0.5*\yshift}
\rulerhorz{0.5 cm}{-1.5 cm-\yshift-\coverheight}
\rulervert{1.5 cm+\xfrontshift+\coverwidth}{-0.5 cm}


%%% FRONT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\topbanner

% FUTURE center justify text automatically and use the \titlebanner
\begin{tikzpicture}[remember picture, overlay, shift={(current page.north west)}, xshift=\xfrontshift, yshift=-\yshift]
    \node[anchor=north west, font=\itshape] at + ($(\bwidth*0.36, -\bheight)$)
        {\large A guide to solving fake requirements};
\end{tikzpicture}


\begin{tikzpicture}[remember picture, overlay, shift={(current page.north west)}, xshift=\xfrontshift, yshift=-\yshift]
    \node[anchor=north] at + ($(0.50*\coverwidth pt, -10*\bheight)$)
    {\includegraphics[width=10.5cm]{vipers}};
\end{tikzpicture}


\begin{tikzpicture}[remember picture, overlay, shift={(current page.north west)}, xshift=\xfrontshift, yshift=-0.85*\yshift]

    \filldraw [fill=\bcolor, draw=white] (\bmargin, \titleoffset*1.1 pt) rectangle ++(\bwidth, -\titleheight*0.7 pt);

    \node[anchor=north west, font=\itshape, scale=1.2] at + ($(\bmargin, \titleoffset+1*\bmargin)$)
        {\Huge };

    \node[anchor=north west, text=white, scale=1.78, text width=0.9*\bwidth] at + ($(\bmargin*1.05, \titleoffset pt - 1.15*\bmargin)$)
        {\Huge Agile Project\\\vskip8pt Micromanagement};

    \node[anchor=north west, font=\itshape] at + ($(\bwidth*0.68, \titleoffset*0.95-\titleheight-0.55*\bheight)$)
        {\Large Waterfall with extra steps};
\end{tikzpicture}


\begin{tikzpicture}[remember picture, overlay, shift={(current page.north west)}, xshift=\xfrontshift, yshift=-\yshift]
    \node[anchor=north west] at ($(current page.south west) + (\xfrontshift, \yshift) + (\bmargin, 3*\bheight)$)
        {\huge \oreilly O'RLY\small$^\textsuperscript{\textregistered}$};

    % TODO there must be a better way; how to justify text in the node?
    \node[anchor=north west, font=\itshape] at ($(current page.south west) + (\xfrontshift, \yshift) + (\bwidth*0.80, 3*\bheight)$)
        {\huge Eric Montag};
\end{tikzpicture}


\end{document}
